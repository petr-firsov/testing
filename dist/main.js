(()=>{"use strict";const e=document.querySelector(".card_validation_form"),s=document.querySelector(".card_number");function t(){const e=function(e){e.split("");let s=Number(e[0]);return 2===s?"mir":3===s?"american-express":4===s?"visa":5===s?"mastercard":"undefined"}(s.value),t=Array.from(document.querySelectorAll(".card-icon"));for(let s of t)s.classList.contains(e)?(s.classList.toggle("grey-icon"),console.log(s)):s.classList.add("grey-icon")}s.addEventListener("input",t),s.addEventListener("paste",t),e.addEventListener("submit",(e=>{e.preventDefault();const t=function(e){if(e.length<16)return{success:!0,message:"Введённый номер слишком короткий"};let s=e.split("");s.reverse();let t=[];s.forEach((e=>{e=Number(e),t.push(e)}));let r=0;for(let e=0;e<t.length;e++)if(e%2==1){let s=2*t[e];s>9&&(s-=9),r+=s}else r+=t[e];return(10-r%10)%10==0?{success:!0,message:"Этот номер валиден"}:{success:!0,message:"Невалидный номер карты"}}(s.value);t.success&&alert(t.message)}))})();