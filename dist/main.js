(()=>{"use strict";(()=>{const e=document.createElement("div");e.innerHTML='<div class="main"><div class="icons"><img class="card-icon visa grey-icon" src="./img/visa.png"><img class="card-icon mastercard grey-icon" src="./img/mastercard.png"><img class="card-icon american-express grey-icon" src="./img/american_express.png"><img class="card-icon mir grey-icon" src="./img/mir.png"></div><form class="card_validation_form"><input class="card_number" type="text" placeholder="Enter your card ID" maxlength="16" autofocus><button class="validation_button">Click to Validate</button></form></div>';const s=e.firstChild,c=s.querySelector(".card_validation_form"),r=s.querySelector(".card_number");c.addEventListener("submit",(e=>{e.preventDefault();const s=function(e){if(e.length<16)return{success:!0,message:"Введённый номер слишком короткий"};let s=e.split("");s.reverse();let c=[];s.forEach((e=>{e=Number(e),c.push(e)}));let r=0;for(let e=0;e<c.length;e++)if(e%2==1){let s=2*c[e];s>9&&(s-=9),r+=s}else r+=c[e];return(10-r%10)%10==0?{success:!0,message:"Этот номер валиден"}:{success:!0,message:"Невалидный номер карты"}}(r.value);console.log(s),s.success&&(console.log(s.success),alert(s.message))}));const t=()=>{const e=function(e){console.log(e),e.split("");let s=Number(e[0]);return 2===s?"mir":3===s?"americanexpress":4===s?"visa":5===s?"mastercard":"undefined"}(r.value);console.log(e);const s=Array.from(c.querySelectorAll("card-icon"));for(const c of s)c.classList.has(e)&&c.classList.toggle("grey-icon")};c.addEventListener("input",t),c.addEventListener("paste",t),document.body.append(s)})()})();