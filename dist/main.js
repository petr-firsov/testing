(()=>{"use strict";!function(){const e=document.createElement("div");e.innerHTML='<form class="card_validation_form"><input class="card_number" type="text" placeholder="Enter your card ID" maxlength="16" autofocus> <button class="validation_button">Click to Validate</button></form>';const t=e.querySelector(".card_validation_form"),s=e.querySelector(".card_number");function n(){const e=function(e){e.split("");let t=Number(e[0]);return 2===t?"mir":3===t?"american-express":4===t?"visa":5===t?"mastercard":"undefined"}(s.value),t=Array.from(document.querySelectorAll(".card-icon"));for(let s of t)s.classList.contains(e)?(s.classList.toggle("grey-icon"),console.log(s)):s.classList.add("grey-icon")}s.addEventListener("input",n),s.addEventListener("paste",n),t.addEventListener("submit",(function(e){e.preventDefault();const t=function(e){if(e.length<16)return{success:!0,message:"Введённый номер слишком короткий"};let t=e.split("");t.reverse();let s=[];t.forEach((e=>{e=Number(e),s.push(e)}));let n=0;for(let e=0;e<s.length;e++)if(e%2==1){let t=2*s[e];t>9&&(t-=9),n+=t}else n+=s[e];return(10-n%10)%10==0?{success:!0,message:"Этот номер валиден"}:{success:!0,message:"Невалидный номер карты"}}(s.value);t.success&&alert(t.message)})),document.querySelector(".main").appendChild(e)}()})();