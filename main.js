(()=>{"use strict";const e=Array.from(document.querySelectorAll(".card-icon")),t=document.querySelector(".visa"),r=document.querySelector(".mastercard"),c=document.querySelector(".american-express"),l=document.querySelector(".mir");function o(){let o=document.querySelector(".card_number").value.split(""),n=Number(o[0]);2===n?l.classList.toggle("grey-icon"):3===n?c.classList.toggle("grey-icon"):4===n?t.classList.toggle("grey-icon"):5===n?r.classList.toggle("grey-icon"):e.forEach((e=>e.classList.add("grey-icon")))}const n=document.querySelector(".card_validation_form");n.addEventListener("submit",(function(e){e.preventDefault();let t=document.querySelector(".card_number").value;if(t.length<16)return void alert("Номер введён неверно");let r=t.split("");r.reverse();let c=[];r.forEach((e=>{e=Number(e),c.push(e)}));let l=0;for(let e=0;e<c.length;e++)if(e%2==1){let t=2*c[e];t>9&&(t-=9),l+=t}else l+=c[e];let o=(10-l%10)%10;console.log(o),0===o?alert("Этот номер валиден"):alert("Номер введён неверно")})),n.addEventListener("input",o),n.addEventListener("paste",o)})();